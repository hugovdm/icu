# ICU 68

[TOC]

ICU is the [premier library for software
internationalization](http://site.icu-project.org/#TOC-What-is-ICU-), used by a
[wide array of companies and organizations](../home/index.md).

## Release Overview

ICU 68 updates to [CLDR 38](http://cldr.unicode.org/index/downloads/cldr-38)
locale data with many additions and corrections. ICU 68 brings support for
locale-dependent smart unit preferences (road distance, temperature, etc.),
implements locale ID canonicalization conformant with CLDR, and includes many
other bug fixes and enhancements.

For more details, including migration issues, see below.

Please use the [icu-support mailing list](../contacts.md) and/or [find/submit
error reports](../bugs.md).

[List of tickets fixed in ICU
68](https://unicode-org.atlassian.net/issues/?jql=project%20%3D%20ICU%20AND%20status%20%3D%20Done%20AND%20resolution%20in%20(Fixed%2C%20%22Fixed%20by%20Other%20Ticket%22)%20AND%20fixVersion%20%3D%2068.1%20ORDER%20BY%20component%20ASC%2C%20created%20DESC)

## Version Number

The initial release has library version number 68.1.

If there are maintenance releases, they will be 68.2, 68.3, etc. (During ICU 68
development, the library version number was 68.0.x.)

Note: There may be additional commits on the
[maint-68](https://github.com/unicode-org/icu/tree/maint/maint-68) branch that
are not included in the prepackaged download files.

## Common Changes

*   [CLDR 38](http://cldr.unicode.org/index/downloads/cldr-38)
    *   Support for units of measurement in inflected languages (phase 1)
    *   14 new measurement units: candela, imperial quart, etc.
    *   Improved locale ID canonicalization spec & data
    *   New language at Modern coverage: Norwegian Nynorsk
    *   New languages at Moderate coverage: Fulah (Adlam), Chakma, Asturian
    *   New languages at Basic coverage: Dogri, Sanskrit
*   Measurement unit preferences
    ([ICU-20568](https://unicode-org.atlassian.net/browse/ICU-20568))
    *   New usage() option on NumberFormatter to select the most appropriate
        unit for a locale and context
    *   New outputUnit() getter on FormattedNumber to get the output unit after
        resolution
    *   In skeletons, specify the context using the "usage" stem
    *   Example: locale "en-GB", skeleton "usage/person unit-width-full-name
        unit/kilogram", input 80 (expressed in kilograms), output "12 stone, 8.4
        pounds"
    *   Usages are pulled in from CLDR (e.g. [CLDR v38 Unit
        Preferences](https://unicode-org.github.io/cldr-staging/charts/38/supplemental/unit_preferences.html)).
*   PluralRules selection for ranges of numbers
    ([ICU-21190](https://unicode-org.atlassian.net/browse/ICU-21190))
*   Locale ID canonicalization now conforms to the CLDR spec including edge
    cases; co-developed with CLDR spec & data improvements
    ([ICU-21236](https://unicode-org.atlassian.net/browse/ICU-21236),
    [ICU-21115](https://unicode-org.atlassian.net/browse/ICU-21115) & others)
*   New LocaleMatcher options: custom threshold
    ([ICU-21144](https://unicode-org.atlassian.net/browse/ICU-21144)), no
    default locale
    ([ICU-21029](https://unicode-org.atlassian.net/browse/ICU-21029))
*   DateIntervalFormat supports output options such as capitalization
    ([ICU-20651](https://unicode-org.atlassian.net/browse/ICU-20651))
*   Uppercasing for the Armenian language (hy) now maps ligature և to ԵՎ
    ([ICU-13416](https://unicode-org.atlassian.net/browse/ICU-13416))
*   Data size reduction: Rule-based segmentation data files (RBBI) use a more
    compact data format and are now half as large
    ([ICU-13565](https://unicode-org.atlassian.net/browse/ICU-13565))
*   Measurement units are normalized in skeleton string output: i.e., calling
    toSkeleton() on a NumberFormatter returns "unit/meter" instead of
    "measure-unit/length-meter"
*   The ICU User Guide has been migrated to Markdown format, hosted via GitHub
    Pages: <https://unicode-org.github.io/icu/userguide/>
*   Removed usage of terms like “blacklist”
    ([ICU-21176](https://unicode-org.atlassian.net/browse/ICU-21176)), “master”
    ([ICU-21242](https://unicode-org.atlassian.net/browse/ICU-21242)), and
    “grandfathered”
    ([ICU-21184](https://unicode-org.atlassian.net/browse/ICU-21184)) as much as
    possible.
*   Time zone data (tzdata) version 2020d (2020-oct-21)
*   PluralRules category for compact notation numbers in French
    ([ICU-13836](https://unicode-org.atlassian.net/browse/ICU-13836))
    *   French needs a special plural form for compact numbers, since messages
        have to use different wording following the equivalent of "3 thousand"
        vs "3 million". That can now be done with the message format in the
        following way:
        1.  Create a message format from "{number_of_views, plural, =0 {Aucune
            vue} one {# vue} many {# de vues} other {# vues}}"
        2.  Set the message format's number formatter to be
            NumberFormatter::forSkeleton("compact-short",
            errorCode).locale(locale).formatDouble(X, errorCode);
        3.  This results in:
            **XResult Plural Category Comment** 0Aucune vue =0       11 vue one
            10001 mille vues other 10000001 million de vues many Inserts "de" as
            required in French

## ICU4C Specific Changes

*   New C API for number range formatting
    ([unicode/unumberrangeformatter.h](https://unicode-org.github.io/icu-docs/apidoc/dev/icu4c/unumberrangeformatter_8h.html#details)),
    for example “750 m - 1.2 km”
    ([ICU-21182](https://unicode-org.atlassian.net/browse/ICU-21182))

## ICU4J Specific Changes

*   None

## Migration Issues

New in ICU 68

1.  ICU4C public header files no longer define and use the macros FALSE and
    TRUE. ([ICU-21267](https://unicode-org.atlassian.net/browse/ICU-21267))
    1.  This avoids collisions between these macro definitions and application
        code that defines enum constants with these names.
    2.  The ICU macros are no longer necessary: C++11 and C99 define false &
        true values.
    3.  ICU API continues to use the ICU-specific type UBool for now; the
        standard values can be assigned to UBool variables and arguments without
        warnings.
    4.  Please change call sites to use the standard false & true values where
        necessary. For C (as opposed to C++), these are also macros, defined in
        <stdbool.h>.
    5.  You may transitionally define U_DEFINE_FALSE_AND_TRUE=1 if you need time
        to migrate code, for example in application code before including any
        ICU header file, or by patching
        [unicode/umachine.h](https://github.com/markusicu/icu/blob/master/icu4c/source/common/unicode/umachine.h)
        and changing `# define U_DEFINE_FALSE_AND_TRUE 0` to assign value 1
        instead.

Other recent migration issues

1.  Constructing a StringPiece from NULL may be ambiguous, depending on the
    platform. Where this is a problem, please adjust call sites from using NULL
    to using nullptr.
    ([ICU-20984](https://unicode-org.atlassian.net/browse/ICU-20984) [PR
    #1044](https://github.com/unicode-org/icu/pull/1044))
    1.  This is similar to issues with the char16_t adoption in [ICU 59](59.md).
2.  ==**If** you rebuild the ICU locale data== from (possibly patched) CLDR
    data, note that there is a new CLDR-to-ICU converter tool in the ICU repo
    now, replacing the old one in the CLDR repo.
    ([ICU-20693](https://unicode-org.atlassian.net/browse/ICU-20693)) See
    [icu4c/source/data/cldr-icu-readme.txt](https://github.com/unicode-org/icu/blob/maint/maint-67/icu4c/source/data/cldr-icu-readme.txt)

## ICU4C Platform Support

*   All: Compiler support for C++11 is required for building the ICU libraries.
    *   Some platforms (such as IBM AIX, IBM z and Solaris) may no longer be
        able to build ICU until an improved compiler is available.
*   **ICU 68 cannot be built with a C++20 compiler**. This version of the
    standard makes incompatible changes that will require ICU API changes in ICU
    69. ([ICU-20973](https://unicode-org.atlassian.net/browse/ICU-20973))
    *   Note that ICU 67 already fixed uses of **u8"literals"** broken by the
        C++20 introduction of the incompatible **char8_t** type
        ([ICU-20972](https://unicode-org.atlassian.net/browse/ICU-20972)),
        and added a few API overloads to reduce the need for reinterpret_cast
        ([ICU-20984](https://unicode-org.atlassian.net/browse/ICU-20984)).
*   macOS: XCode 8.3 (LLVM clang 8.1.0) has been tested.
*   Solaris
    *   Use [Oracle Developer Studio 12.5 or
        later](https://blogs.oracle.com//solaris/entry/oracle_developer_studio_12_5)
    *   May not be supported.
        (#[13393](https://ssl.icu-project.org/trac/ticket/13393))
    *   Unicode issues with some test files
        ([#13096](http://bugs.icu-project.org/trac/ticket/13096)) (tests are not
        able to build)
    *   Time zone detection errors
        ([#13097](http://bugs.icu-project.org/trac/ticket/13097))
*   Windows:
    *   The minimum supported version is Windows 7. Windows XP and Windows Vista
        are no longer supported.
    *   Building the Visual Studio UWP projects requires [Visual Studio
        2017](https://www.visualstudio.com/downloads/) (or VS2019) with a
        version of the [Windows 10
        SDK](https://developer.microsoft.com/windows/downloads) installed.
    *   When using "@compat=host", on versions below Windows 10 version 1703, 6
        locales have date and number formatting issues
        ([#13119](https://unicode-org.atlassian.net/browse/ICU-13119)).
    *   The LCID conversion APIs don't round-trip Kurdish (ku) and Central
        Kurdish (ckb) due to Windows not having a ckb locale
        ([#20181](https://unicode-org.atlassian.net/browse/ICU-20181)).
    *   The pre-built binaries now use Visual Studio 2019 \[MSVC2019\], instead
        of Visual Studio 2017 \[MSVC2017\]
        ([ICU-21108](https://unicode-org.atlassian.net/browse/ICU-21108)).
*   Windows using the ICC compiler:
    *   Source File Encoding. The ICC compiler does not recognize the
        [/utf-8](https://software.intel.com/en-us/forums/intel-c-compiler/topic/733662)
        option. A work-around is known and reported to succeed.
        ([#13251](http://bugs.icu-project.org/trac/ticket/13251))
*   IBM AIX:
    *   TBD
*   IBM z
    *   TBD

## ICU4J Platform Support

ICU4J works on Java 7 and on Android API level 21.

## ICU4C Download

**Library version number:** 68.1
**Release date:** 2020-10-28

*   [API Changes since ICU4C
    67](https://htmlpreview.github.io/?https://github.com/unicode-org/icu/blob/maint/maint-68/icu4c/APIChangeReport.html)
*   [Readme](https://htmlpreview.github.io/?https://github.com/unicode-org/icu/blob/maint/maint-68/icu4c/readme.html)

Source and binary downloads are available on the git/GitHub tag page:
<https://github.com/unicode-org/icu/releases/tag/release-68-1>

See the [Source Code Access](../index.md) page for how to download the ICU file
tree directly from GitHub.

ICU locale data was generated from CLDR tag
<https://github.com/unicode-org/cldr/releases/tag/release-38>

## ICU4J Download

**Library version number:** 68.1

**Release date:** 2020-10-13 28

*   [API Changes since ICU4J
    67](https://htmlpreview.github.io/?https://github.com/unicode-org/icu/blob/maint/maint-68/icu4j/APIChangeReport.html)
*   [Readme](https://htmlpreview.github.io/?https://github.com/unicode-org/icu/blob/maint/maint-68/icu4j/readme.html)

**Source and binary downloads are available on the git/GitHub tag page:**
<https://github.com/unicode-org/icu/releases/tag/release-68-1>

See the [Source Code Access](../index.md) page for how to download the ICU file
tree directly from GitHub.

Maven dependency:

```none
  <groupId>com.ibm.icu</groupId>
  <artifactId>icu4j</artifactId>
  <version>68.1</version>
</dependency>
```
